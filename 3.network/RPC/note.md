# RPC

Remote Procedure Call 远程过程调用

**目标：**
让`分布式`或者`微服务系统`中的不同服务之间，像本地调用一样简单

> 一般应用场景是在公司内部调用

**关键点：**

+ 服务之间的调用
+ 跨服务 （不同主机）
+ 调用id
+ 调用参数 （序列化和反序列化）
+ 网络传输 （还是走的TCP）

## 本地过程调用

```js
// 一个本地函数的调用，就是一个简单的本地过程调用
function sum (a, b) {
  return a + b
}

let a = 1;
let b = 2;
sum(a + b);  
// sum 方法调用 是发生在本系统内部的
```

远程过程调用，可以简单理解为，一个调用远程方法的过程；
需要考虑远程方法的识别、参数的传递、结果的传递

## 与HTTP的区别

RPC包含两个主要的协议

+ 传输协议
  + TCP
  + HTTP2
+ 序列化协议
  + xml
  + json
  + protobuf
  + hessian

RPC调用一般在公司内部的服务之间调用，因为相对http来说，RPC比较简洁高效，只要调用双方把持一直就行，不需要做到HTTP的通用性

三方平台的服务调用一般是使用http调用的
> 比如商家服务调用微信的服务，获取openid、用户信息等

### 序列化和反序列化

+ 序列化： 将数据结构或对象转换成二进制串的过程
+ 反序列化：将在序列化过程中所生成的二进制串转换成数据结构或者对象的过程

因此会发现，RPC在网络分层上与HTTP是在同一层上的

RPC是可以自定义传输协议和交互报文协议的。
是高度定制化的

相较于HTTP，HTTP是更加**标准**和**规范化**、并且**专用**的的一种通信方式，
传输层使用**TCP**协议
序列化方式使用json序列化？？？
