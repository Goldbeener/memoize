当我们在讨论响应式数据的时候在说什么

响应式数据与副作用函数

副作用函数引用（依赖）了响应式数据，
并且在数据更新时，副作用函数能够自动的重新执行

响应式系统 核心 就是实现这一套机制

Object.defineProperty

Proxy

拦截对象属性的读取、设置操作，
存储副作用函数的  如何收集副作用函数

最终达到的效果
有一个对象和一个做副作用函数

副作用函数执行时，会被自动收集到使用到的对象属性的依赖集合中
当对象属性被修改时，会自动将该对象收集到的副作用函数重新执行

1. 副作用函数形式多样化、自定义名称、匿名/命名 都需要被收集
2. 响应关联精确度，需要重新设计一套副作用函数的收集机制，精确到属性
3. 分支切换与cleanup 副作用函数执行时 先清除一下依赖关系，执行过程中建立新的依赖
4. 嵌套 利用栈存储嵌套关系，每次在执行完成之后 将active重新矫正
5. 避免无限递归 effect函数正常时仅读取，如果既读取又设置会出现无限递归
6. 可调度 执行时机、方式、次数  减少中间次数，可以使用flushJob思路
8. 计算属性
   1. 懒计算 lazy
   2. 结果缓存
9. watch
   1. 实现，effect shceduler ； 对象属性traverse读取； getter
   2. oldValue、newValue赋值
   3. 立即执行 watch cb
   4. 回调执行时机，在下一个tick执行
   5. 过期的副作用清除
